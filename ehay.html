<!DOCTYPE html>
<html>
<head>
<title>Web Chat AI dengan Gemini API</title>
<style>
  body {
    font-family: sans-serif;
    background-color: #f0f0f0;
  }
  #chat-container {
    width: 500px;
    margin: 50px auto;
    border: 1px solid #ccc;
    background-color: #fff;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }
  #chat-log {
    height: 400px;
    overflow-y: scroll;
    padding: 10px;
  }
  .message {
    margin-bottom: 10px;
  }
  .user-message {
    text-align: right;
  }
  .gemini-message {
    text-align: left;
  }
  #user-input {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-top: 10px;
  }
  button {
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
  }
</style>
</head>
<body>
  <div id="chat-container">
    <div id="chat-log"></div>
    <input type="text" id="user-input" placeholder="Ketik pertanyaan Anda...">
    <button onclick="sendMessage()">Kirim</button>
  </div>

  <script>
    // Ganti dengan API key Anda
    const API_KEY = "AIzaSyCMARX2X_DTcuCFf3x0LZaYQjX6S2TjK8U";

    function sendMessage() {
      const userInput = document.getElementById("user-input");
      const message = userInput.value;
      displayMessage("Anda: " + message, "user-message");
      userInput.value = "";

      // Kirim pertanyaan ke Gemini API
      fetch("https://api.generativelanguage.google.com/v1beta2/models/gemini-pro:generateText", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": "Bearer " + API_KEY
        },
        body: JSON.stringify({
          "prompt": {
            "text": "Pengguna: " + message + "\nGemini:",
            "systemInstruction": "Kamu adalah asisten AI yang suka membantu. Nama kamu adalah Rapikz."
          },
          "temperature": 0.7,
          "maxOutputTokens": 150
        })
      })
      .then(response => response.json())
      .then(data => {
        const geminiResponse = data.candidates[0].output;
        displayMessage("Gemini: " + geminiResponse, "gemini-message");
      });
    }

    function displayMessage(message, className) {
      const chatLog = document.getElementById("chat-log");
      const messageDiv = document.createElement("div");
      messageDiv.className = "message " + className;
      messageDiv.textContent = message;
      chatLog.appendChild(messageDiv);
      chatLog.scrollTop = chatLog.scrollHeight;
    }
  </script>
</body>
</html>
